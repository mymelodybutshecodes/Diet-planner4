<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Wellness Plan</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background-color: #fff5f8;
        color: #444;
        padding: 2rem;
        max-width: 800px;
        margin: auto;
    }
    h1, h2 {
        color: #cc6e91;
    }
    .section {
        background: white;
        padding: 1.5rem;
        margin-bottom: 1rem;
        border-radius: 12px;
        box-shadow: 0px 4px 12px rgba(0,0,0,0.05);
    }
</style>
</head>
<body>

<h1 id="greeting"></h1>

<div class="section" id="workout-plan">
    <h2>7-Day Workout Plan</h2>
    <ul id="workouts"></ul>
</div>

<div class="section" id="nutrition">
    <h2>Nutrition & Macros</h2>
    <p id="nutrition-text"></p>
</div>

<script>
const name = localStorage.getItem("userName");
const quiz = JSON.parse(localStorage.getItem("quizData"));

document.getElementById("greeting").innerText = `Hi ${name}, here's your personalized plan!`;

const workoutList = document.getElementById("workouts");

const homePlan = [
    "Day 1: Full body HIIT",
    "Day 2: Yoga & Stretching",
    "Day 3: Core & Abs",
    "Day 4: Rest or light walk",
    "Day 5: Glutes & Legs",
    "Day 6: Upper Body",
    "Day 7: Rest & recovery"
];

const gymPlan = [
    "Day 1: Push (Chest/Shoulders/Triceps)",
    "Day 2: Pull (Back/Biceps)",
    "Day 3: Legs (Quads/Hamstrings/Glutes)",
    "Day 4: Cardio + Core",
    "Day 5: Push",
    "Day 6: Pull",
    "Day 7: Rest"
];

const chosenPlan = quiz.location === "Gym" ? gymPlan : homePlan;
chosenPlan.forEach(day => {
    let li = document.createElement("li");
    li.textContent = day;
    workoutList.appendChild(li);
});

let nutritionAdvice = "";
if (quiz.goal === "Weight Loss") {
    nutritionAdvice = "Aim for a calorie deficit with high protein, moderate carbs, and healthy fats.";
} else if (quiz.goal === "Muscle Gain") {
    nutritionAdvice = "Aim for a calorie surplus with high protein, complex carbs, and healthy fats.";
} else {
    nutritionAdvice = "Maintain balanced macros: ~40% carbs, 30% protein, 30% fats.";
}

if (quiz.vegan) nutritionAdvice += " Ensure adequate plant-based protein sources like lentils, tofu, and quinoa.";
if (quiz.allergies.length > 0) nutritionAdvice += ` Avoid: ${quiz.allergies.join(", ")}.`;

document.getElementById("nutrition-text").innerText = nutritionAdvice;
</script>

</body>
</html>
